'''
–§—É–Ω–∫—Ü–∏—è is_available_date() üå∂Ô∏è
–í–æ –≤—Ä–µ–º—è –≤–∏–∑–∏—Ç–∞ –æ—á–µ—Ä–µ–¥–Ω–æ–≥–æ –≥–æ—Å—Ç—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º –æ—Ç–µ–ª—è –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å, –¥–æ—Å—Ç—É–ø–Ω–∞ –ª–∏ —Ç–∞ –∏–ª–∏ –∏–Ω–∞—è –¥–∞—Ç–∞ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
–Ω–æ–º–µ—Ä–∞.

–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é is_available_date(), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:

booked_dates ‚Äî —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –¥–∞—Ç, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è. –≠–ª–µ–º–µ–Ω—Ç–æ–º —Å–ø–∏—Å–∫–∞ —è–≤–ª—è–µ—Ç—Å—è –ª–∏–±–æ –æ–¥–∏–Ω–æ—á–Ω–∞—è –¥–∞—Ç–∞, –ª–∏–±–æ
–ø–µ—Ä–∏–æ–¥ (–¥–≤–µ –¥–∞—Ç—ã —á–µ—Ä–µ–∑ –¥–µ—Ñ–∏—Å). –ù–∞–ø—Ä–∏–º–µ—Ä:
['04.11.2021', '05.11.2021-09.11.2021']
date_for_booking ‚Äî –æ–¥–∏–Ω–æ—á–Ω–∞—è —Å—Ç—Ä–æ–∫–æ–≤–∞—è –¥–∞—Ç–∞ –∏–ª–∏ –ø–µ—Ä–∏–æ–¥ (–¥–≤–µ –¥–∞—Ç—ã —á–µ—Ä–µ–∑ –¥–µ—Ñ–∏—Å), –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –≥–æ—Å—Ç—å –∂–µ–ª–∞–µ—Ç –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
–Ω–æ–º–µ—Ä. –ù–∞–ø—Ä–∏–º–µ—Ä:
'01.11.2021' –∏–ª–∏ '01.11.2021-04.11.2021'
–§—É–Ω–∫—Ü–∏—è is_available_date() –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å True, –µ—Å–ª–∏ –¥–∞—Ç–∞ –∏–ª–∏ –ø–µ—Ä–∏–æ–¥ date_for_booking –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è
–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å False.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1. –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ –≤ –ø–µ—Ä–∏–æ–¥–µ –ª–µ–≤–∞—è –¥–∞—Ç–∞ –≤—Å–µ–≥–¥–∞ –º–µ–Ω—å—à–µ –ø—Ä–∞–≤–æ–π.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 2. –í –ø–µ—Ä–∏–æ–¥–µ (–¥–≤–µ –¥–∞—Ç—ã —á–µ—Ä–µ–∑ –¥–µ—Ñ–∏—Å) –≥—Ä–∞–Ω–∏—á–Ω—ã–µ –¥–∞—Ç—ã –≤–∫–ª—é—á–µ–Ω—ã.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 3. –í —Ç–µ—Å—Ç–∏—Ä—É—é—â—É—é —Å–∏—Å—Ç–µ–º—É —Å–¥–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, —Å–æ–¥–µ—Ä–∂–∞—â—É—é —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é —Ñ—É–Ω–∫—Ü–∏—é is_available_date(), –Ω–æ –Ω–µ
–∫–æ–¥, –≤—ã–∑—ã–≤–∞—é—â–∏–π –µ–µ.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 4. –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ —Å—Å—ã–ª–∫–∞–º:

–ê—Ä—Ö–∏–≤ —Å —Ç–µ—Å—Ç–∞–º–∏ https://stepik.org/media/attachments/lesson/611754/tests_2506745.zip
GitHub https://github.com/python-generation/Professional/tree/main/Module_3/Module_3.3/Module_3.3.19
'''
from datetime import datetime, date


def period_of_dates(dates: str):
    # –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–Ω–µ–π –Ω–∞—á–∏–Ω–∞—è —Å 0001-01-01
    f = '%d.%m.%Y'
    result = []
    if '-' in dates:
        temp = dates.split('-')
        start = datetime.strptime(temp[0], f).toordinal()
        stop = datetime.strptime(temp[1], f).toordinal()
        for d in range(start, stop + 1):
            result.append(d)
    else:
        result.append(datetime.strptime(dates, f).toordinal())
    return result


def is_available_date(booked_dates, date_for_booking):
    days_for_booking = period_of_dates(date_for_booking)
    booked_days = []
    for i in range(len(booked_dates)):
        booked_days += period_of_dates(booked_dates[i])
    for day in days_for_booking:
        if day in booked_days:
            return False
    return True