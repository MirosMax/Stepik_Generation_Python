'''
Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð°Ñ€Ñ…Ð¸Ð²Ð° ðŸŒ¶ï¸ðŸŒ¶ï¸
Ð’Ð°Ð¼ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð°Ñ€Ñ…Ð¸Ð² desktop.zip, ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‰Ð¸Ð¹ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ Ð¿Ð°Ð¿ÐºÐ¸ Ð¸ Ñ„Ð°Ð¹Ð»Ñ‹. ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñƒ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚
ÐµÐ³Ð¾ Ñ„Ð°Ð¹Ð»Ð¾Ð²ÑƒÑŽ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ Ð¸ Ð¾Ð±ÑŠÐµÐ¼ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ð°.

Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…
ÐÐ° Ð²Ñ…Ð¾Ð´ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ðµ Ð½Ð¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð¿Ð¾Ð´Ð°ÐµÑ‚ÑÑ.

Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð²Ñ‹Ñ…Ð¾Ð´Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…
ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð´Ð¾Ð»Ð¶Ð½Ð° Ð²Ñ‹Ð²ÐµÑÑ‚Ð¸ Ñ„Ð°Ð¹Ð»Ð¾Ð²ÑƒÑŽ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ Ð°Ñ€Ñ…Ð¸Ð²Ð° desktop.zip Ð¸ Ð¾Ð±ÑŠÐµÐ¼ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ð° Ð² Ð½ÐµÑÐ¶Ð°Ñ‚Ð¾Ð¼ Ð²Ð¸Ð´Ðµ. Ð¢Ð°Ðº
ÐºÐ°Ðº Ð°Ñ€Ñ…Ð¸Ð² Ð¸Ð¼ÐµÐµÑ‚ ÑÐ¾Ð±ÑÑ‚Ð²ÐµÐ½Ð½ÑƒÑŽ Ð¸ÐµÑ€Ð°Ñ€Ñ…Ð¸ÑŽ Ð¿Ð°Ð¿Ð¾Ðº, ÐºÐ°Ð¶Ð´Ñ‹Ð¹ ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ Ð²Ð»Ð¾Ð¶ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ Ð²Ñ‹Ð´ÐµÐ»ÐµÐ½ Ð´Ð²ÑƒÐ¼Ñ Ð¿Ñ€Ð¾Ð±ÐµÐ»Ð°Ð¼Ð¸.

ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ 1. Ð’Ñ‹Ð²Ð¾Ð´ Ð½Ð° Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ðµ Ð°Ñ€Ñ…Ð¸Ð²Ð° test.zip Ð¸Ð· ÐºÐ¾Ð½ÑÐ¿ÐµÐºÑ‚Ð°:

test
  ÐšÐ°Ñ€Ñ‚Ð¸Ð½ÐºÐ¸
    1.jpg 88 KB
    avatar.png 19 KB
    certificate.png 43 KB
    py.png 33 KB
    World_Time_Zones_Map.png 2 MB
    Ð¡Ð½Ð¸Ð¼Ð¾Ðº ÑÐºÑ€Ð°Ð½Ð°.png 11 KB
  ÐÐµÑ€Ð°Ð²ÐµÐ½ÑÑ‚Ð²Ð°.djvu 5 MB
  ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹
    image_util.py 5 KB
    sort.py 61 B
  Ð Ð°Ð·Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹
    astros.json 505 B
ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ 2. ÐžÐ±ÑŠÐµÐ¼ Ñ„Ð°Ð¹Ð»Ð° Ð·Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°ÐµÑ‚ÑÑ Ð² ÑÐ°Ð¼Ñ‹Ñ… ÐºÑ€ÑƒÐ¿Ð½Ñ‹Ñ… ÐµÐ´Ð¸Ð½Ð¸Ñ†Ð°Ñ… Ð¸Ð·Ð¼ÐµÑ€ÐµÐ½Ð¸Ñ Ñ Ð¾ÐºÑ€ÑƒÐ³Ð»ÐµÐ½Ð¸ÐµÐ¼ Ð´Ð¾ Ñ†ÐµÐ»Ñ‹Ñ….

ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ 3. Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ ÐµÐ´Ð¸Ð½Ð¸Ñ† Ð¸Ð·Ð¼ÐµÑ€ÐµÐ½Ð¸Ñ Ñ‚Ð°ÐºÐ¸Ðµ Ð¶Ðµ, ÐºÐ°ÐºÐ¸Ðµ Ð¿Ñ€Ð¸Ð½ÑÑ‚Ñ‹ Ð² Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸ÐºÐµ:

1 KB = 1024 B
1 MB = 1024 KB
1 GB = 1024 MB
ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ 4. Ð£ÐºÐ°Ð·Ð°Ð½Ð½Ñ‹Ð¹ Ð°Ñ€Ñ…Ð¸Ð² Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð¿Ð¾ ÑÑÑ‹Ð»ÐºÐµ. ÐžÑ‚Ð²ÐµÑ‚ Ð½Ð° Ð·Ð°Ð´Ð°Ñ‡Ñƒ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð¿Ð¾ ÑÑÑ‹Ð»ÐºÐµ.
https://stepik.org/media/attachments/lesson/547172/desktop.zip
https://stepik.org/media/attachments/lesson/547172/clue_archive_structure.txt
'''

from zipfile import ZipFile


def size_to_large(size):
    '''
    Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ñ€Ð°Ð·Ð¼ÐµÑ€ Ñ„Ð°Ð¹Ð»Ð° Ð² Ð±Ð°Ð¹Ñ‚Ð°Ñ… Ð¸ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ ÑÑ‚Ñ€Ð¾ÐºÑƒ Ð² ÑÐ°Ð¼Ñ‹Ñ… ÐºÑ€ÑƒÐ¿Ð½Ñ‹Ñ… ÐµÐ´Ð¸Ð½Ð¸Ñ†Ð°Ñ… Ð¸Ð·Ð¼ÐµÑ€ÐµÐ½Ð¸Ñ
    Ñ Ð¾ÐºÑ€ÑƒÐ³Ð»ÐµÐ½Ð¸ÐµÐ¼ Ð´Ð¾ Ñ†ÐµÐ»Ñ‹Ñ…

    Ð•Ð´Ð¸Ð½Ð¸Ñ†Ñ‹ Ð¸Ð·Ð¼ÐµÑ€ÐµÐ½Ð¸Ñ:
    1 KB (Kilobyte) = 1,024 Bytes
    1 MB (Megabyte) = 1024 KB = 1,048,576 Bytes
    1 GB (Gigabyte) = 1024 MB = 1,048,576 KB = 1,073,741,824 Bytes
    1 TB (Terabyte) = 1024 GB = 1,048,576 MB = 8,388,608 KB = 1,099,511,627,776 Bytes
    1 PB (Petabyte) = 1024 TB = 1,048,576 GB = 1,073,741,824 MB = 1,099,511,627,776 KB = 1,125,899,906,842,624 Bytes
    1 EB (Exabyte) = 1024 PB = 1,048,576 TB = 1,073,741,824 GB = 1,099,511,627,776 MB = 1,125,899,906,842,624 KB = 1,152,921,504,606,846,976 Bytes
    1 ZB (ZettaByte) = 1024 EB = 1,048,576 PB = 1,073,741,824 TB = 1,099,511,627,776 GB = 1,125,899,906,842,624 MB = 1,152,921,504,606,846,976 KB = 1,180,591,620,717,411,303,424 Bytes
    1 YB (Yottabyte) = 1,000 ZB = 1,048,576 EB = 1,073,741,824 PB = 1,099,511,627,776 TBz = 1,125,899,906,842,624 GB = 1,152,921,504,606,846,976 MB = 1,180,591,620,717,411,303,424 KB = 1,208,925,819,614,629,174,706,176 Bytes
    '''

    measure = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']
    count = 0
    while size >= 1024:
        size /= 1024
        count += 1
    return f'{round(size)} {measure[count]}'


with ZipFile('desktop.zip') as zip_file:
    data = zip_file.infolist()
    for file in data:
        source_name = file.filename
        indent_ = '  '
        if file.is_dir():
            spaces = (source_name.count('/') - 1) * indent_
            new_name = source_name.split('/')[-2]
            print(spaces + new_name)
        else:
            spaces = source_name.count('/') * indent_
            new_name = file.filename.split('/')[-1]
            print(f'{spaces + new_name} {size_to_large(file.file_size)}')